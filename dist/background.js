(()=>{"use strict";const e=[/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}youtube.[-a-zA-Z0-9@:%._\+~#=]{1,256}/,/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}imgur.[-a-zA-Z0-9@:%._\+~#=]{1,256}/,/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}reddit.[-a-zA-Z0-9@:%._\+~#=]{1,256}/,/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}linkedin.[-a-zA-Z0-9@:%._\+~#=]{1,256}/,/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}news.google.[-a-zA-Z0-9@:%._\+~#=]{1,256}/];var t=!0;function o(e){var t={type:"IS_BLOCKING_STATUS",isBlocking:e};chrome.runtime.sendMessage(t)}chrome.tabs.onCreated.addListener((function(o){if(o.pendingUrl&&o.id&&t)for(var r=0,s=e;r<s.length;r++)if(s[r].test(o.pendingUrl)){chrome.tabs.remove(o.id);break}})),chrome.tabs.onUpdated.addListener((function(o,r,s){if(s.url&&t)for(var n=0,a=e;n<a.length;n++)if(a[n].test(s.url)){chrome.tabs.remove(o,(function(){console.log("removed",o,s.url)}));break}})),chrome.runtime.onMessage.addListener((function(e){switch(e.type){case"REQ_IS_BLOCKING_STATUS":o(t);break;case"TOGGLE_IS_BLOCKING":t=e.isBlocking,console.log("message received",e),chrome.storage.local.set({isBlocking:t}),o(t)}}))})();